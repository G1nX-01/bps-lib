function bps(t,e,s,i,d){let h=document.getElementById(t),r=h.getContext("2d"),n=0,o=[],a=d,$={x:0,y:0},l=!1;function u(t){l=!1}h.addEventListener("mousemove",function t(e){$.x=e.clientX-h.getBoundingClientRect().left,$.y=e.clientY-h.getBoundingClientRect().top}),h.addEventListener("mousedown",function t(e){l=!0,function t(e){for(let s=0;s<30;s++)o.push(new c($.x,$.y))}(30)}),h.addEventListener("mouseup",u),h.width=window.innerWidth-600,h.height=window.innerHeight-20;class c{constructor(t,e){this.borderHits=0,this.radius=2*Math.random()+1,this.x=void 0!==t?t:Math.random()*h.width,this.y=void 0!==e?e:Math.random()*h.height,this.speedX=4*Math.random()-2,this.speedY=4*Math.random()-2,this.color=this.generateRandomColor()}checkCollision(t){let e=this.x-t.x,s=this.y-t.y,i=Math.sqrt(e*e+s*s);if(i<this.radius+t.radius){let d=Math.atan2(s,e),h=Math.sqrt(this.speedX*this.speedX+this.speedY*this.speedY),r=Math.sqrt(t.speedX*t.speedX+t.speedY*t.speedY),n=Math.atan2(this.speedY,this.speedX),o=Math.atan2(t.speedY,t.speedX);this.speedX=r*Math.cos(o-d),this.speedY=r*Math.sin(o-d),t.speedX=h*Math.cos(n-d),t.speedY=h*Math.sin(n-d);let a=.5*(this.radius+t.radius-i+1);this.x+=Math.cos(d)*a,this.y+=Math.sin(d)*a,t.x-=Math.cos(d)*a,t.y-=Math.sin(d)*a}}generateRandomColor(){return`hsla(${60*Math.random()+240}, ${40*Math.random()+40}%, ${30*Math.random()+60}%, ${.6*Math.random()+.8})`}draw(){r.beginPath(),r.arc(this.x,this.y,this.radius,0,2*Math.PI),r.closePath(),r.fillStyle=this.color,r.fill()}update(){let t=1+(i-50)/50*.1,e=s/50;this.x+=this.speedX*t*e,this.y+=this.speedY*t*e;let d=0,r=0;if(a){let o=this.x-$.x,l=this.y-$.y,u=Math.sqrt(o*o+l*l);if(u<100){let c=(100-u)/100;d=o/u*c*20,r=l/u*c*20}}this.x+=(this.speedX+(Math.random()-.5)*1+d)*t*(s/50),this.y+=(this.speedY+(Math.random()-.5)*1+r)*t*(s/50),this.x+this.radius>h.width?(this.x=h.width-this.radius,this.speedX*=-1,this.borderHits++,n++):this.x-this.radius<0&&(this.x=this.radius,this.speedX*=-1,this.borderHits++,n++),this.y+this.radius>h.height?(this.y=h.height-this.radius,this.speedY*=-1,this.borderHits++,n++):this.y-this.radius<0&&(this.y=this.radius,this.speedY*=-1,this.borderHits++,n++)}}function p(){o=[];for(let t=0;t<e;t++)o.push(new c)}function f(){for(let t=0;t<o.length;t++)o[t].draw(),o[t].update()}p(),function t(){r.clearRect(0,0,h.width,h.height);for(let e=0;e<o.length;e++)o[e].draw(),o[e].update();requestAnimationFrame(t)}();let y=window.matchMedia("(prefers-color-scheme: dark)");return y.matches?h.style.backgroundColor="#212121":h.style.backgroundColor="#ffffff",y.addListener(function t(e){let s=e.matches;s?h.style.backgroundColor="#000000":h.style.backgroundColor="#ffffff"}),{reset:function t(){p()}}}