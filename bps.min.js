function bps(t,s,e,i,d){let h=document.getElementById(t),r=h.getContext("2d"),o=0,n=[],a=d,$={x:0,y:0},l=!1;function u(t){l=!1}h.addEventListener("mousemove",function t(s){$.x=s.clientX-h.offsetLeft,$.y=s.clientY-h.offsetTop}),h.addEventListener("mousedown",function t(s){l=!0,function t(s){for(let e=0;e<30;e++)n.push(new f($.x,$.y))}(30)}),h.addEventListener("mouseup",u),h.width=window.innerWidth-20,h.height=window.innerHeight-20;class f{constructor(t,s){this.borderHits=0,this.radius=2*Math.random()+1,this.x=void 0!==t?t:Math.random()*h.width,this.y=void 0!==s?s:Math.random()*h.height,this.speedX=4*Math.random()-2,this.speedY=4*Math.random()-2,this.color=this.generateRandomColor()}checkCollision(t){let s=this.x-t.x,e=this.y-t.y,i=Math.sqrt(s*s+e*e);if(i<this.radius+t.radius){let d=Math.atan2(e,s),h=Math.sqrt(this.speedX*this.speedX+this.speedY*this.speedY),r=Math.sqrt(t.speedX*t.speedX+t.speedY*t.speedY),o=Math.atan2(this.speedY,this.speedX),n=Math.atan2(t.speedY,t.speedX);this.speedX=r*Math.cos(n-d),this.speedY=r*Math.sin(n-d),t.speedX=h*Math.cos(o-d),t.speedY=h*Math.sin(o-d);let a=.5*(this.radius+t.radius-i+1);this.x+=Math.cos(d)*a,this.y+=Math.sin(d)*a,t.x-=Math.cos(d)*a,t.y-=Math.sin(d)*a}}generateRandomColor(){return`hsla(${60*Math.random()+240}, ${40*Math.random()+40}%, ${30*Math.random()+60}%, ${.6*Math.random()+.8})`}draw(){r.beginPath(),r.arc(this.x,this.y,this.radius,0,2*Math.PI),r.closePath(),r.fillStyle=this.color,r.fill()}update(){let t=1+(i-50)/50*.1,s=e/50;this.x+=this.speedX*t*s,this.y+=this.speedY*t*s;let d=0,r=0;if(a){let n=this.x-$.x,l=this.y-$.y,u=Math.sqrt(n*n+l*l);if(u<100){let f=(100-u)/100;d=n/u*f*20,r=l/u*f*20}}this.x+=(this.speedX+(Math.random()-.5)*1+d)*t*(e/50),this.y+=(this.speedY+(Math.random()-.5)*1+r)*t*(e/50),this.x+this.radius>h.width?(this.x=h.width-this.radius,this.speedX*=-1,this.borderHits++,o++):this.x-this.radius<0&&(this.x=this.radius,this.speedX*=-1,this.borderHits++,o++),this.y+this.radius>h.height?(this.y=h.height-this.radius,this.speedY*=-1,this.borderHits++,o++):this.y-this.radius<0&&(this.y=this.radius,this.speedY*=-1,this.borderHits++,o++)}}function c(){n=[];for(let t=0;t<s;t++)n.push(new f)}function p(){for(let t=0;t<n.length;t++)n[t].draw(),n[t].update()}c(),function t(){r.clearRect(0,0,h.width,h.height);for(let s=0;s<n.length;s++)n[s].draw(),n[s].update();requestAnimationFrame(t)}();let y=window.matchMedia("(prefers-color-scheme: dark)");return y.matches?h.style.backgroundColor="#212121":h.style.backgroundColor="#ffffff",y.addListener(function t(s){let e=s.matches;e?h.style.backgroundColor="#000000":h.style.backgroundColor="#ffffff"}),{reset:function t(){c()}}}